- defaults:
    link:
      relink: true
      create: true

- clean:
    - "~"
    - ~/.config/kitty/

- ifarch:
    - shell:
        - command: sudo pacman -S --needed zsh neovim kitty kitty-terminfo
          description: Install packages
          stdin: true
          stdout: true
          stderr: true

- link:
    ~/.tmux.conf: tmux.conf
    ~/.aliases: aliases
    ~/.gitconfig: gitconfig
    ~/.zprofile: zprofile
    ~/.config/kitty/kitty.conf: kitty.conf
    ~/.xinitrc: xinitrc
    ~/.zshrc: zshrc
    ~/.config/nvim: nvim

- shell:
    - [curl -sSL https://install.python-poetry.org | python3 -, Install poetry]
    - [sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)" "" --unattended, Install ohmyzsh]
    - [git clone https://github.com/zsh-users/zsh-autosuggestions ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions, Install zsh-autosuggestions]
    - [curl -fLo ~/.local/share/nvim/site/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim, Install Plug]
    - [nvim -f +'PlugInstall --sync' +'qa', Install vim plugins]
    - command: "if [[ $(echo $SHELL) != $(which zsh) ]]; then chsh -s $(which zsh); fi"
      description: Switch to using zsh
      stdin: true
      stdout: true
      stderr: true

